<launch>
   <!-- usb_cam -->
  <node pkg="usb_cam" type="usb_cam_node" name="usb_cam" output="screen">
    <param name="video_device" value="/dev/video0"/>
    <param name="image_width"  value="640"/>
    <param name="image_height" value="480"/>
    <param name="pixel_format" value="mjpeg"/>
    <param name="camera_frame_id" value="usb_cam"/>
  </node>

<!-- YOLO -->
  <arg name="model" default="$(optenv YOLO_MODEL yolo26n.pt)"/>
  <node pkg="yolo26_ros1" type="yolo26_ros1_node.py" name="yolo26_ros1_node" output="screen">
    <param name="model" value="$(arg model)"/>
    <param name="image" value="/camera/image_preprocessed"/>
    <param name="out_image" value="/yolo/image"/>

    <!-- 推奨：ホストの weights を読む（存在するなら） -->
    <!-- 例: /workspace/weights/yolo26n.pt -->
    <param name="model" value="$(env YOLO_MODEL)"/>
    <param name="conf" value="$(env YOLO_CONF)"/>
    <param name="device" value="$(env YOLO_DEVICE)"/>
  </node>
</launch>
